# Há»† THá»NG Dá»° BÃO CHI TIÃŠU KHÃCH HÃ€NG
## Linear Regression - Dá»± bÃ¡o theo Account_Key

---

## ðŸ“‹ MÃ” Táº¢

Há»‡ thá»‘ng sá»­ dá»¥ng thuáº­t toÃ¡n **Linear Regression** Ä‘á»ƒ dá»± bÃ¡o 3 biáº¿n má»¥c tiÃªu cho khÃ¡ch hÃ ng ngÃ¢n hÃ ng:

1. **Total_Monthly_Spend (Y1)** - Tá»•ng chi tiÃªu hÃ ng thÃ¡ng
2. **Frequency_Total (Y2)** - Tá»•ng sá»‘ láº§n giao dá»‹ch
3. **Amount_Entertainment (Y3)** - Chi tiÃªu cho giáº£i trÃ­ & du lá»‹ch

---

## HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG

### BÆ°á»›c 1: Chuáº©n bá»‹ dá»¯ liá»‡u

Äáº£m báº£o file CSV cÃ³ tÃªn `dataset_mining_final_v2.csv` vá»›i format:

```csv
Account_Key,Account_Type,Account_Open_Date,Customer_Key,Age,Gender_Code,Location_Score,Tenure_Days,Year,Month,Quarter,Total_Monthly_Spend,Frequency_Total,Amount_Entertainment,Frequency_Entertainment,Amount_Food,Frequency_Food,Amount_Shopping,Frequency_Shopping,Amount_Transport,Amount_Utilities,Days_Since_Last_Trans,Pct_Night_Trans,Is_Credit_Card,Pct_Food,Pct_Shopping,Pct_Entertainment,Pct_Transport,Pct_Utilities
6732,Debit,1977-08-06 06:29:40,9027,58,1,1,17643,2022,1,1,24166361.0,25,0.0,0,5936297.0,9,7664074.0,7,2901161.0,7664829.0,0,0.32,0,0.24564298282227928,0.31713810780199797,0.0,0.12004955979925981,0.3171693495764629
6732,Debit,1977-08-06 06:29:40,9027,58,1,1,17643,2022,2,1,58695990.0,15,0.0,0,4128094.0,1,33233072.0,7,2961239.0,9844964.0,0,0.2,0,0.07033008558165557,0.5661898197815558,0.0,0.0504504481481614,0.16772805092818097
6732,Debit,1977-08-06 06:29:40,9027,58,1,1,17643,2022,3,1,23260497.0,20,0.0,0,10783496.0,12,7529954.0,4,3413113.0,1533934.0,0,0.3,0,0.4635969730139472,0.3237228336092733,0.0,0.14673431096506664,0.06594588241171287
```

### BÆ°á»›c 2: Compile

```bash
javac LinearRegression.java DataLoader.java SpendingPrediction.java ModelSerializer.java SimpleScalerInfo.java
```

### BÆ°á»›c 3: Cháº¡y chÆ°Æ¡ng trÃ¬nh

```bash
java SpendingPrediction
```

---

## ðŸ“Š QUY TRÃŒNH HOáº T Äá»˜NG

### Phase 1: Training Models

ChÆ°Æ¡ng trÃ¬nh sáº½ tá»± Ä‘á»™ng:

```
[STEP 1] Loading data...
Loaded 1000 samples with 13 features

[STEP 2] Splitting data (80% train, 20% test)...
Training samples: 800
Testing samples: 200

[STEP 3] Normalizing features...
Features normalized using min-max scaling

[STEP 4] Training models...
>>> Training Model 1: Total Monthly Spend <<<
[Total_Monthly_Spend] Training completed!

>>> Training Model 2: Transaction Frequency <<<
[Frequency_Total] Training completed!

>>> Training Model 3: Entertainment Spending <<<
[Amount_Entertainment] Training completed!

[STEP 5] Evaluating models...
>>> Total_Monthly_Spend <<<
Test Set Performance:
  MSE:  1234567.89
  RMSE: 1111.04
  RÂ²:   0.8523 (85.23%)
  MAPE: 12.45%
...

TRAINING COMPLETED!
```

### Phase 2: Interactive Prediction

Sau khi training xong, chÆ°Æ¡ng trÃ¬nh chuyá»ƒn sang cháº¿ Ä‘á»™ **Interactive Mode**:

```
================================================================================
PREDICTION BY ACCOUNT_KEY
================================================================================
Nháº­p Account_Key (hoáº·c 'exit' Ä‘á»ƒ thoÃ¡t): _
```

---

## CÃCH NHáº¬P ACCOUNT_KEY Äá»‚ Dá»° BÃO

### VÃ­ dá»¥ 1: Dá»± bÃ¡o cho Account_Key = 123

**Input:**
```
Nháº­p Account_Key (hoáº·c 'exit' Ä‘á»ƒ thoÃ¡t): 123
```

**Output:**
```
âœ… Káº¿t quáº£ dá»± bÃ¡o cho Account_Key: 123
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ“Š Dá»° BÃO:
   1. Total Monthly Spend:    5,234,567.89 VND
   2. Transaction Frequency:  28 láº§n
   3. Entertainment Spending: 845,678.90 VND

ðŸ“ˆ SO SÃNH Vá»šI GIÃ TRá»Š THá»°C Táº¾:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Total Monthly Spend:
      Thá»±c táº¿:  5,200,000.00 VND
      Dá»± bÃ¡o:   5,234,567.89 VND
      Sai sá»‘:   34,567.89 VND (0.66%)

   Transaction Frequency:
      Thá»±c táº¿:  28 láº§n
      Dá»± bÃ¡o:   29 láº§n
      Sai sá»‘:   1.00 láº§n (3.57%)

   Entertainment Spending:
      Thá»±c táº¿:  800,000.00 VND
      Dá»± bÃ¡o:   845,678.90 VND
      Sai sá»‘:   45,678.90 VND (5.71%)

ðŸ” THÃ”NG TIN KHÃCH HÃ€NG (Raw Features):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Age                      : 30.0000
   Gender_Code              : 1.0000
   Location_Score           : 3.0000
   Tenure_Days              : 365.0000
   Is_Credit_Card           : 1.0000
   Avg_Trans_Val            : 185714.2900
   Days_Since_Last_Trans    : 2.0000
   Pct_Night_Trans          : 0.1800
   Pct_Food                 : 0.2880
   Pct_Shopping             : 0.2310
   Pct_Transport            : 0.1540
   Pct_Entertainment        : 0.1540
   Pct_Utilities            : 0.1730
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€



## ðŸ“Š VÃ Dá»¤ THá»°C Táº¾

### Scenario: Dá»± bÃ¡o chi tiÃªu cho khÃ¡ch hÃ ng

**ThÃ´ng tin khÃ¡ch hÃ ng:**
- Account_Key: 1001
- Tuá»•i: 35
- Giá»›i tÃ­nh: Nam
- Khu vá»±c: TP.HCM (Location_Score = 3)
- ÄÃ£ sá»­ dá»¥ng dá»‹ch vá»¥: 2 nÄƒm (730 ngÃ y)
- CÃ³ tháº» tÃ­n dá»¥ng
- Giao dá»‹ch trung bÃ¬nh: 350,000 VND
- Giao dá»‹ch gáº§n nháº¥t: 3 ngÃ y trÆ°á»›c
- 15% giao dá»‹ch ban Ä‘Ãªm
- Chi tiÃªu: Food 30%, Shopping 25%, Transport 15%, Entertainment 20%, Utilities 10%

**Cháº¡y dá»± bÃ¡o:**
```bash
java SpendingPrediction

# Sau khi train xong
Nháº­p Account_Key (hoáº·c 'exit' Ä‘á»ƒ thoÃ¡t): 1001
```

**Káº¿t quáº£ dá»± bÃ¡o:**
```
âœ… Káº¿t quáº£ dá»± bÃ¡o cho Account_Key: 1001

ðŸ“Š Dá»° BÃO:
   1. Total Monthly Spend:    4,567,890.12 VND
   2. Transaction Frequency:  26 láº§n
   3. Entertainment Spending: 913,578.02 VND
```

**Ã nghÄ©a:**
- KhÃ¡ch hÃ ng dá»± kiáº¿n chi tiÃªu ~4.6 triá»‡u/thÃ¡ng
- Thá»±c hiá»‡n ~26 giao dá»‹ch/thÃ¡ng
- Chi ~913k cho giáº£i trÃ­ & du lá»‹ch

**á»¨ng dá»¥ng:**
- NgÃ¢n hÃ ng cÃ³ thá»ƒ Ä‘á» xuáº¥t háº¡n má»©c tháº» tÃ­n dá»¥ng phÃ¹ há»£p
- Marketing cÃ³ thá»ƒ gá»­i offers vá» entertainment (phim, du lá»‹ch)
- Risk management cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ kháº£ nÄƒng chi tráº£

